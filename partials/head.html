<header class="top-header" style="padding:18px 18px 10px 18px;">
  <div style="display:flex; align-items:flex-start; justify-content:space-between; gap:12px;">
    <div style="flex:1; min-width:0;">
      <!-- 로고 + (데스크탑) 메뉴 + (모바일) 햄버거 -->
      <div style="display:flex; align-items:center; justify-content:space-between; gap:12px;">
        <div style="display:flex; align-items:center; gap:18px; min-width:0;">
          <a href="index.html" style="display:inline-flex; align-items:center;">
            <img
              src="assets/images/hexlogo.png"
              alt="HEX DAO"
              style="height:34px; display:block;"
            />
          </a>

          <!-- 데스크탑 네비 -->
          <nav id="topNavDesktop" style="display:flex; gap:16px; font-size:clamp(13px, 2.2vw, 16px);">
            <a href="swap.html" style="text-decoration:none; color:#111;">토큰거래소</a>
            <a href="treasury.html" style="text-decoration:none; color:#111;">토큰금고</a>
          </nav>
        </div>

        <!-- 모바일 햄버거 버튼 -->
        <button
          id="hamburgerBtn"
          aria-label="메뉴 열기"
          aria-expanded="false"
          style="
            display:none;
            border:1px solid #2f52ff;
            background:#fff;
            border-radius:10px;
            padding:10px 12px;
            cursor:pointer;
            line-height:0;
          "
        >
          <!-- 아이콘(3줄) -->
          <span style="display:inline-block; width:22px; height:16px; position:relative;">
            <i style="position:absolute; left:0; top:0; width:100%; height:2px; background:#111;"></i>
            <i style="position:absolute; left:0; top:7px; width:100%; height:2px; background:#111;"></i>
            <i style="position:absolute; left:0; top:14px; width:100%; height:2px; background:#111;"></i>
          </span>
        </button>
      </div>

      <!-- 상태 텍스트는 아래 줄 -->
      <div id="headerStatusText" style="margin-top:8px; font-size:clamp(12px, 2vw, 14px); color:#111;">
        HEX DAO현황
      </div>

      <!-- 모바일 드롭다운 메뉴 -->
      <div
        id="topNavMobile"
        style="
          display:none;
          margin-top:10px;
          border:1px solid rgba(0,0,0,.12);
          border-radius:12px;
          background:#fff;
          overflow:hidden;
        "
      >
        <a href="swap.html" style="display:block; padding:12px 12px; color:#111; text-decoration:none; border-bottom:1px solid rgba(0,0,0,.08);">
          토큰거래소
        </a>
        <a href="treasury.html" style="display:block; padding:12px 12px; color:#111; text-decoration:none;">
          토큰금고
        </a>
      </div>
    </div>

    <!-- 지갑 연결 버튼 (기존 id 유지) -->
    <button
      id="btnConnect"
      style="
        border:1px solid #2f52ff;
        color:#111;
        background:#fff;
        border-radius:10px;
        padding:10px 16px;
        cursor:pointer;
        font-size:clamp(13px, 2.2vw, 15px);
        white-space:nowrap;
      "
    >
      지갑연결
    </button>
  </div>

  <!-- 상단 카드 (id 유지 + Vault USDT 추가) -->
  <div
    id="top-cards"
    style="
      margin-top:10px;
      display:grid;
      grid-template-columns:repeat(5, minmax(0,1fr));
      gap:14px;
    "
  >
    <div style="border:1px solid #2f52ff; border-radius:14px; padding:16px;">
      <div style="font-size:clamp(12px, 1.8vw, 14px);">스테이킹 총량</div>
      <div id="hxUsers"
           style="
             margin-top:8px;
             font-size:clamp(14px, 2.4vw, 18px);
             font-weight:600;
             line-height:1.2;
             white-space:nowrap;
             overflow:hidden;
             text-overflow:ellipsis;
           ">-</div>
    </div>

    <div style="border:1px solid #2f52ff; border-radius:14px; padding:16px;">
      <div style="font-size:clamp(12px, 1.8vw, 14px);">HUT 가격</div>
      <div id="hutPriceTop"
           style="
             margin-top:8px;
             font-size:clamp(14px, 2.4vw, 18px);
             font-weight:600;
             line-height:1.2;
             white-space:nowrap;
             overflow:hidden;
             text-overflow:ellipsis;
           ">-</div>
    </div>

    <div style="border:1px solid #2f52ff; border-radius:14px; padding:16px;">
      <div style="font-size:clamp(12px, 1.8vw, 14px);">TVL</div>
      <div id="tvlTop"
           style="
             margin-top:8px;
             font-size:clamp(14px, 2.4vw, 18px);
             font-weight:600;
             line-height:1.2;
             white-space:nowrap;
             overflow:hidden;
             text-overflow:ellipsis;
           ">-</div>
    </div>

    <div style="border:1px solid #2f52ff; border-radius:14px; padding:16px;">
      <div style="font-size:clamp(12px, 1.8vw, 14px);">수수료 수익</div>
      <div id="feeTop"
           style="
             margin-top:8px;
             font-size:clamp(14px, 2.4vw, 18px);
             font-weight:600;
             line-height:1.2;
             white-space:nowrap;
             overflow:hidden;
             text-overflow:ellipsis;
           ">-</div>
    </div>

    <div style="border:1px solid #2f52ff; border-radius:14px; padding:16px;">
      <div style="font-size:clamp(12px, 1.8vw, 14px);">Vault USDT 잔고</div>
      <div id="vaultUsdtTop"
           style="
             margin-top:8px;
             font-size:clamp(14px, 2.4vw, 18px);
             font-weight:600;
             line-height:1.2;
             white-space:nowrap;
             overflow:hidden;
             text-overflow:ellipsis;
           ">-</div>
    </div>
  </div>

  <style>
    /* 모바일 카드 레이아웃 */
    @media (max-width: 900px) {
      #top-cards {
        grid-template-columns: repeat(2, minmax(0, 1fr)) !important;
      }
    }

    /* 아주 작은 화면에서 padding/간격 조금 축소 */
    @media (max-width: 420px) {
      .top-header { padding: 14px 14px 8px 14px !important; }
      #top-cards { gap: 10px !important; }
      #top-cards > div { padding: 12px !important; }
    }

    /* 햄버거 표시/데스크탑 메뉴 숨김 */
    @media (max-width: 700px) {
      #topNavDesktop { display: none !important; }
      #hamburgerBtn { display: inline-flex !important; align-items:center; justify-content:center; }
    }
  </style>

  <script>
    (function () {
      const btn = document.getElementById("hamburgerBtn");
      const mobileNav = document.getElementById("topNavMobile");
      if (!btn || !mobileNav) return;

      function setOpen(open) {
        mobileNav.style.display = open ? "block" : "none";
        btn.setAttribute("aria-expanded", open ? "true" : "false");
      }

      btn.addEventListener("click", function () {
        const open = mobileNav.style.display !== "none" && mobileNav.style.display !== "";
        setOpen(!open);
      });

      // 화면이 커지면 자동 닫기
      window.addEventListener("resize", function () {
        if (window.innerWidth > 700) setOpen(false);
      });

      // 바깥 클릭하면 닫기
      document.addEventListener("click", function (e) {
        if (window.innerWidth > 700) return;
        if (!mobileNav.contains(e.target) && !btn.contains(e.target)) setOpen(false);
      });
    })();
  </script>
</header>
